<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Signals - Thoughts on AI, technology, and innovation from Victor del Rosal">
    <title>Signals | Victor del Rosal</title>

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://victordelrosal.com/signals.html">
    <meta property="og:title" content="Signals | Victor del Rosal">
    <meta property="og:description" content="Thoughts on AI, technology, innovation, and the future of work">
    <meta property="og:image" content="https://victordelrosal.com/img/og-image.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://victordelrosal.com/signals.html">
    <meta name="twitter:title" content="Signals | Victor del Rosal">
    <meta name="twitter:description" content="Thoughts on AI, technology, innovation, and the future of work">
    <meta name="twitter:image" content="https://victordelrosal.com/img/og-image.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        /* ===== BRUTALIST RESET ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ===== BOLD COLOR SYSTEM ===== */
        :root {
            /* Base */
            --color-cream: #FDFBF7;
            --color-black: #0A0A0A;
            --color-navy: #002147;

            /* Vibrant Accents */
            --color-electric: #0066FF;
            --color-yellow: #FFD700;
            --color-coral: #FF6B6B;
            --color-lime: #BFFF00;

            /* Typography */
            --font-display: 'IBM Plex Sans', sans-serif;
            --font-body: 'EB Garamond', Georgia, serif;
            --font-mono: 'IBM Plex Mono', monospace;
        }

        /* ===== BASE ===== */
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-display);
            font-size: 18px;
            line-height: 1.6;
            color: var(--color-black);
            background-color: var(--color-cream);
            overflow-x: hidden;
        }

        ::selection {
            background: var(--color-yellow);
            color: var(--color-black);
        }

        /* ===== NAVIGATION ===== */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg,
                #003366 0%,
                var(--color-navy) 40%,
                #001530 100%);
            color: white;
            padding: 1.5rem;
            z-index: 1000;
            border-bottom: 4px solid var(--color-yellow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow:
                inset 0 1px 0 rgba(255, 255, 255, 0.08),
                0 4px 12px rgba(0, 21, 48, 0.5);
            overflow: hidden;
        }

        /* ===== WAVE ANIMATION CONTAINER ===== */
        .nav-waves {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }

        .nav-waves .wave {
            position: absolute;
            left: -100%;
            width: 300%;
            height: 100%;
            background-repeat: repeat-x;
            background-position: 0 bottom;
            transform-origin: center bottom;
        }

        /* Wave 1 - Deepest, slowest */
        .nav-waves .wave-1 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.03' d='M0 22L26.7 23.8C53.3 25.7 106.7 29.3 160 35.8C213.3 42.3 266.7 51.7 320 50.5C373.3 49.3 426.7 37.7 480 34.7C533.3 31.7 586.7 37.3 640 41.2C693.3 45 746.7 47 773.3 48L800 49L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 100%;
            animation: wave-flow 25s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            opacity: 0.8;
        }

        /* Wave 2 - Middle layer */
        .nav-waves .wave-2 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.04' d='M0 44L26.7 41.3C53.3 38.7 106.7 33.3 160 36.2C213.3 39 266.7 50 320 53.5C373.3 57 426.7 53 480 47.3C533.3 41.7 586.7 34.3 640 33.5C693.3 32.7 746.7 38.3 773.3 41.2L800 44L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 90%;
            animation: wave-flow 18s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            animation-delay: -5s;
            opacity: 0.7;
        }

        /* Wave 3 - Upper layer, faster */
        .nav-waves .wave-3 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.025' d='M0 66L26.7 62.7C53.3 59.3 106.7 52.7 160 48.8C213.3 45 266.7 44 320 48.2C373.3 52.3 426.7 61.7 480 63C533.3 64.3 586.7 57.7 640 52.5C693.3 47.3 746.7 43.7 773.3 41.8L800 40L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 80%;
            animation: wave-flow 12s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            animation-delay: -2s;
            opacity: 0.6;
        }

        /* Wave 4 - Shimmer layer (subtle light reflections) */
        .nav-waves .wave-4 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%2366aaff' fill-opacity='0.04' d='M0 55L26.7 52C53.3 49 106.7 43 160 42.2C213.3 41.3 266.7 45.7 320 50C373.3 54.3 426.7 58.7 480 57.5C533.3 56.3 586.7 49.7 640 46.5C693.3 43.3 746.7 43.7 773.3 43.8L800 44L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 70%;
            animation: wave-flow-reverse 20s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            opacity: 0.5;
        }

        /* Wave 5 - Top shimmer, fastest */
        .nav-waves .wave-5 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.02' d='M0 77L26.7 74.3C53.3 71.7 106.7 66.3 160 62.2C213.3 58 266.7 55 320 56.5C373.3 58 426.7 64 480 66.3C533.3 68.7 586.7 67.3 640 64.2C693.3 61 746.7 56 773.3 53.5L800 51L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 60%;
            animation: wave-flow 8s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            animation-delay: -3s;
            opacity: 0.4;
        }

        @keyframes wave-flow {
            0% {
                transform: translateX(0) translateZ(0);
            }
            100% {
                transform: translateX(33.33%) translateZ(0);
            }
        }

        @keyframes wave-flow-reverse {
            0% {
                transform: translateX(0) translateZ(0);
            }
            100% {
                transform: translateX(-33.33%) translateZ(0);
            }
        }

        /* Gentle shimmer for extra organic feel */
        .nav-waves::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.015) 25%,
                rgba(255, 255, 255, 0.025) 50%,
                rgba(255, 255, 255, 0.015) 75%,
                transparent 100%
            );
            animation: shimmer-flow 15s ease-in-out infinite;
        }

        @keyframes shimmer-flow {
            0%, 100% {
                opacity: 0.3;
                transform: translateX(-100%);
            }
            50% {
                opacity: 0.7;
                transform: translateX(100%);
            }
        }

        nav .logo {
            display: flex;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        nav .logo img {
            height: 45px;
            width: auto;
        }

        nav .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            position: relative;
            z-index: 2;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            transition: color 100ms;
        }

        nav a:hover {
            color: var(--color-yellow);
        }

        nav a.active {
            color: var(--color-yellow);
        }

        /* ===== MAIN CONTENT ===== */
        main {
            padding: 8rem 2rem 4rem;
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
        }

        /* ===== HEADER ===== */
        .page-header {
            margin-bottom: 4rem;
        }

        .section-label {
            font-family: var(--font-mono);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-navy);
            margin-bottom: 0.5rem;
            display: block;
        }

        .page-title {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 700;
            margin-bottom: 1rem;
            line-height: 1;
            position: relative;
            display: inline-block;
        }

        .page-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 6px;
            background: var(--color-yellow);
            transform: rotate(-1deg);
        }

        .page-description {
            font-family: var(--font-body);
            font-size: 1.3rem;
            color: var(--color-black);
            margin-top: 2rem;
            max-width: 600px;
        }

        /* ===== LOADING STATE ===== */
        .loading {
            text-align: center;
            padding: 4rem 0;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--color-cream);
            border-top-color: var(--color-navy);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== EMPTY STATE ===== */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border: 4px solid var(--color-black);
        }

        .empty-state h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .empty-state p {
            color: rgba(0, 0, 0, 0.6);
        }

        /* ===== POST LIST ===== */
        .posts-list {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .post-card {
            background: white;
            border: 4px solid var(--color-black);
            padding: 2rem;
            position: relative;
            transition: transform 150ms;
            text-decoration: none;
            color: inherit;
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
        }

        .post-card::before {
            content: '';
            position: absolute;
            top: 12px;
            left: 12px;
            right: -12px;
            bottom: -12px;
            background: var(--color-coral);
            z-index: -1;
            transition: all 150ms;
        }

        .post-card:hover {
            transform: translate(-4px, -4px);
        }

        /* Post thumbnail */
        .post-card-thumb {
            width: 100px;
            height: 100px;
            min-width: 100px;
            border: 3px solid var(--color-black);
            object-fit: cover;
            background: var(--color-cream);
        }

        .post-card-content {
            flex: 1;
            min-width: 0;
        }

        .post-card:hover::before {
            background: var(--color-electric);
        }

        .post-card-meta {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--color-navy);
            text-transform: uppercase;
            margin-bottom: 0.75rem;
        }

        .post-card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            line-height: 1.2;
        }

        .post-card-excerpt {
            font-family: var(--font-body);
            font-size: 1.1rem;
            color: rgba(0, 0, 0, 0.7);
            line-height: 1.6;
        }

        .post-card-arrow {
            position: absolute;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--color-navy);
            opacity: 0;
            transition: opacity 150ms;
        }

        .post-card:hover .post-card-arrow {
            opacity: 1;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                gap: 1rem;
            }

            nav .nav-links {
                gap: 1rem;
            }

            main {
                padding: 6rem 1.5rem 3rem;
            }

            .post-card {
                padding: 1.5rem;
                flex-direction: column;
            }

            .post-card-thumb {
                width: 80px;
                height: 80px;
                min-width: 80px;
            }

            .post-card-arrow {
                display: none;
            }
        }

        /* ===== ACCESSIBILITY ===== */
        :focus-visible {
            outline: 4px solid var(--color-electric);
            outline-offset: 4px;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <!-- Animated wave background -->
        <div class="nav-waves">
            <div class="wave wave-1"></div>
            <div class="wave wave-2"></div>
            <div class="wave wave-3"></div>
            <div class="wave wave-4"></div>
            <div class="wave wave-5"></div>
        </div>
        <a href="/" class="logo"><img src="/favicon.png" alt="VDR"></a>
        <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/#profile">About</a></li>
            <li><a href="/#output">Work</a></li>
            <li><a href="/signals.html" class="active">Signals</a></li>
            <li><a href="/#contact">Contact</a></li>
        </ul>
    </nav>

    <main>
        <!-- Header -->
        <header class="page-header">
            <span class="section-label">// Blog</span>
            <h1 class="page-title">Signals</h1>
            <p class="page-description">
                Thoughts on AI, technology, innovation, and the future of work.
                Raw ideas from the lab, polished insights from teaching.
            </p>
        </header>

        <!-- Loading State -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>Loading posts...</p>
        </div>

        <!-- Posts Container -->
        <div id="posts-container" class="posts-list" style="display: none;"></div>

        <!-- Empty State -->
        <div id="empty-state" class="empty-state" style="display: none;">
            <h2>No signals yet</h2>
            <p>Check back soon for new posts.</p>
        </div>
    </main>

    <!-- Load Posts API -->
    <script src="/posts.js"></script>

    <script>
        // Strip the first line (title) from content to avoid showing title in excerpt
        function stripFirstLine(html) {
            const temp = document.createElement('div');
            temp.innerHTML = html;
            if (temp.firstElementChild) {
                temp.removeChild(temp.firstElementChild);
            }
            return temp.innerHTML.trim();
        }

        // Extract the first image URL from HTML content
        function getFirstImage(html) {
            const temp = document.createElement('div');
            temp.innerHTML = html;
            const img = temp.querySelector('img');
            return img ? img.src : null;
        }

        // Fetch and render posts
        (async function() {
            try {
                const posts = await window.PostsAPI.fetchPosts();
                const container = document.getElementById('posts-container');
                const loading = document.getElementById('loading');
                const emptyState = document.getElementById('empty-state');

                loading.style.display = 'none';

                if (posts.length === 0) {
                    emptyState.style.display = 'block';
                    return;
                }

                // Render posts (with thumbnail if image exists)
                container.innerHTML = posts.map(post => {
                    const imageUrl = getFirstImage(post.content);
                    const thumbnailHtml = imageUrl
                        ? `<img src="${imageUrl}" alt="" class="post-card-thumb">`
                        : '';

                    return `
                        <a href="/${post.slug}" class="post-card">
                            ${thumbnailHtml}
                            <div class="post-card-content">
                                <p class="post-card-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                                <h2 class="post-card-title">${post.title}</h2>
                                <p class="post-card-excerpt">${window.PostsAPI.createExcerpt(stripFirstLine(post.content), 200)}</p>
                            </div>
                            <svg class="post-card-arrow" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7"/>
                            </svg>
                        </a>
                    `;
                }).join('');

                container.style.display = 'flex';
            } catch (error) {
                console.error('Error loading posts:', error);
                document.getElementById('loading').style.display = 'none';
                document.getElementById('empty-state').style.display = 'block';
            }
        })();
    </script>
</body>
</html>
