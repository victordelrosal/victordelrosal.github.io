<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Waves - Thoughts on AI, technology, and innovation from Victor del Rosal">
    <title>Waves | Victor del Rosal</title>

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://victordelrosal.com/waves.html">
    <meta property="og:title" content="Waves | Victor del Rosal">
    <meta property="og:description" content="Thoughts on AI, technology, innovation, and the future of work">
    <meta property="og:image" content="https://victordelrosal.com/img/og-image.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://victordelrosal.com/waves.html">
    <meta name="twitter:title" content="Waves | Victor del Rosal">
    <meta name="twitter:description" content="Thoughts on AI, technology, innovation, and the future of work">
    <meta name="twitter:image" content="https://victordelrosal.com/img/og-image.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        /* ===== BRUTALIST RESET ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ===== BOLD COLOR SYSTEM ===== */
        :root {
            /* Base */
            --color-cream: #FDFBF7;
            --color-black: #0A0A0A;
            --color-navy: #002147;

            /* Vibrant Accents */
            --color-electric: #0066FF;
            --color-yellow: #FFD700;
            --color-coral: #FF6B6B;
            --color-lime: #BFFF00;

            /* Typography */
            --font-display: 'IBM Plex Sans', sans-serif;
            --font-body: 'EB Garamond', Georgia, serif;
            --font-mono: 'IBM Plex Mono', monospace;
        }

        /* ===== BASE ===== */
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-display);
            font-size: 18px;
            line-height: 1.6;
            color: var(--color-black);
            background-color: var(--color-cream);
            overflow-x: hidden;
        }

        ::selection {
            background: var(--color-yellow);
            color: var(--color-black);
        }

        /* ===== NAVIGATION ===== */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg,
                #003366 0%,
                var(--color-navy) 40%,
                #001530 100%);
            color: white;
            padding: 1.5rem;
            z-index: 1000;
            border-bottom: 4px solid var(--color-yellow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow:
                inset 0 1px 0 rgba(255, 255, 255, 0.08),
                0 4px 12px rgba(0, 21, 48, 0.5);
            overflow: hidden;
        }

        /* ===== WAVE ANIMATION CONTAINER ===== */
        .nav-waves {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            pointer-events: none;
            z-index: 0;
        }

        .nav-waves .wave {
            position: absolute;
            left: -100%;
            width: 300%;
            height: 100%;
            background-repeat: repeat-x;
            background-position: 0 bottom;
            transform-origin: center bottom;
        }

        /* Wave 1 - Deepest, slowest */
        .nav-waves .wave-1 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.03' d='M0 22L26.7 23.8C53.3 25.7 106.7 29.3 160 35.8C213.3 42.3 266.7 51.7 320 50.5C373.3 49.3 426.7 37.7 480 34.7C533.3 31.7 586.7 37.3 640 41.2C693.3 45 746.7 47 773.3 48L800 49L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 100%;
            animation: wave-flow 25s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            opacity: 0.8;
        }

        /* Wave 2 - Middle layer */
        .nav-waves .wave-2 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.04' d='M0 44L26.7 41.3C53.3 38.7 106.7 33.3 160 36.2C213.3 39 266.7 50 320 53.5C373.3 57 426.7 53 480 47.3C533.3 41.7 586.7 34.3 640 33.5C693.3 32.7 746.7 38.3 773.3 41.2L800 44L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 90%;
            animation: wave-flow 18s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            animation-delay: -5s;
            opacity: 0.7;
        }

        /* Wave 3 - Upper layer, faster */
        .nav-waves .wave-3 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.025' d='M0 66L26.7 62.7C53.3 59.3 106.7 52.7 160 48.8C213.3 45 266.7 44 320 48.2C373.3 52.3 426.7 61.7 480 63C533.3 64.3 586.7 57.7 640 52.5C693.3 47.3 746.7 43.7 773.3 41.8L800 40L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 80%;
            animation: wave-flow 12s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            animation-delay: -2s;
            opacity: 0.6;
        }

        /* Wave 4 - Shimmer layer (subtle light reflections) */
        .nav-waves .wave-4 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%2366aaff' fill-opacity='0.04' d='M0 55L26.7 52C53.3 49 106.7 43 160 42.2C213.3 41.3 266.7 45.7 320 50C373.3 54.3 426.7 58.7 480 57.5C533.3 56.3 586.7 49.7 640 46.5C693.3 43.3 746.7 43.7 773.3 43.8L800 44L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 70%;
            animation: wave-flow-reverse 20s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            opacity: 0.5;
        }

        /* Wave 5 - Top shimmer, fastest */
        .nav-waves .wave-5 {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88' preserveAspectRatio='none'%3E%3Cpath fill='%23ffffff' fill-opacity='0.02' d='M0 77L26.7 74.3C53.3 71.7 106.7 66.3 160 62.2C213.3 58 266.7 55 320 56.5C373.3 58 426.7 64 480 66.3C533.3 68.7 586.7 67.3 640 64.2C693.3 61 746.7 56 773.3 53.5L800 51L800 88L773.3 88C746.7 88 693.3 88 640 88C586.7 88 533.3 88 480 88C426.7 88 373.3 88 320 88C266.7 88 213.3 88 160 88C106.7 88 53.3 88 26.7 88L0 88Z'%3E%3C/path%3E%3C/svg%3E");
            background-size: 50% 60%;
            animation: wave-flow 8s cubic-bezier(0.36, 0.45, 0.63, 0.53) infinite;
            animation-delay: -3s;
            opacity: 0.4;
        }

        @keyframes wave-flow {
            0% {
                transform: translateX(0) translateZ(0);
            }
            100% {
                transform: translateX(33.33%) translateZ(0);
            }
        }

        @keyframes wave-flow-reverse {
            0% {
                transform: translateX(0) translateZ(0);
            }
            100% {
                transform: translateX(-33.33%) translateZ(0);
            }
        }

        /* Gentle shimmer for extra organic feel */
        .nav-waves::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.015) 25%,
                rgba(255, 255, 255, 0.025) 50%,
                rgba(255, 255, 255, 0.015) 75%,
                transparent 100%
            );
            animation: shimmer-flow 15s ease-in-out infinite;
        }

        @keyframes shimmer-flow {
            0%, 100% {
                opacity: 0.3;
                transform: translateX(-100%);
            }
            50% {
                opacity: 0.7;
                transform: translateX(100%);
            }
        }

        nav .logo {
            display: flex;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        nav .logo img {
            height: 45px;
            width: auto;
        }

        nav .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            position: relative;
            z-index: 2;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.05em;
            transition: color 100ms;
        }

        nav a:hover {
            color: var(--color-yellow);
        }

        nav a.active {
            color: var(--color-yellow);
        }

        /* Wavy underline for Waves nav link */
        nav a.nav-waves-link {
            position: relative;
        }

        nav a.nav-waves-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 3px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 6' preserveAspectRatio='none'%3E%3Cpath d='M0 3 Q5 0, 10 3 T20 3 T30 3 T40 3' stroke='%23FFD700' stroke-width='2' fill='none'/%3E%3C/svg%3E");
            background-repeat: repeat-x;
            background-size: 20px 100%;
            animation: wave-underline 2s linear infinite;
        }

        @keyframes wave-underline {
            0% {
                background-position: 0 0;
            }
            100% {
                background-position: 40px 0;
            }
        }

        /* ===== MAIN CONTENT ===== */
        main {
            padding: 8rem 2rem 4rem;
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
        }

        /* ===== HEADER ===== */
        .page-header {
            margin-bottom: 4rem;
        }

        .section-label {
            font-family: var(--font-mono);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--color-navy);
            margin-bottom: 0.5rem;
            display: block;
        }

        .page-title {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 700;
            margin-bottom: 1rem;
            line-height: 1;
            position: relative;
            display: inline-block;
        }

        /* Wavy underline for page title */
        .page-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 8px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 8' preserveAspectRatio='none'%3E%3Cpath d='M0 4 Q5 1, 10 4 T20 4 T30 4 T40 4' stroke='%23FFD700' stroke-width='3' fill='none'/%3E%3C/svg%3E");
            background-repeat: repeat-x;
            background-size: 20px 100%;
        }

        .page-description {
            font-family: var(--font-body);
            font-size: 1.3rem;
            color: var(--color-black);
            margin-top: 2rem;
            max-width: 600px;
        }

        /* ===== LOADING STATE ===== */
        .loading {
            text-align: center;
            padding: 4rem 0;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--color-cream);
            border-top-color: var(--color-navy);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== EMPTY STATE ===== */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border: 4px solid var(--color-black);
        }

        .empty-state h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .empty-state p {
            color: rgba(0, 0, 0, 0.6);
        }

        /* ===== WAVES LIST ===== */
        .waves-list {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* ===== BASE WAVE ENTRY (The constant container) ===== */
        .wave-entry {
            background: white;
            border: 4px solid var(--color-black);
            position: relative;
            transition: transform 150ms;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .wave-entry::before {
            content: '';
            position: absolute;
            top: 12px;
            left: 12px;
            right: -12px;
            bottom: -12px;
            background: var(--color-coral);
            z-index: -1;
            transition: all 150ms;
        }

        .wave-entry:hover {
            transform: translate(-4px, -4px);
        }

        .wave-entry:hover::before {
            background: var(--color-electric);
        }

        /* Wave type indicator badge */
        .wave-type {
            position: absolute;
            top: -12px;
            right: 1rem;
            font-family: var(--font-mono);
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            padding: 0.25rem 0.5rem;
            background: var(--color-navy);
            color: white;
            z-index: 2;
        }

        .wave-meta {
            font-family: var(--font-mono);
            font-size: 0.8rem;
            color: var(--color-navy);
            text-transform: uppercase;
        }

        .wave-title {
            font-weight: 700;
            line-height: 1.2;
        }

        .wave-body {
            font-family: var(--font-body);
            color: rgba(0, 0, 0, 0.8);
            line-height: 1.6;
        }

        .wave-arrow {
            position: absolute;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--color-navy);
            opacity: 0;
            transition: opacity 150ms;
        }

        .wave-entry:hover .wave-arrow {
            opacity: 1;
        }

        /* =========================================
           ADAPTIVE WAVE STYLES
           Same wave, different internal treatment
           ========================================= */

        /* ----- TWEET STYLE (<=140 chars, classic Twitter) ----- */
        .wave-entry--tweet {
            padding: 1.5rem 2rem;
        }

        .wave-entry--tweet::before {
            background: #1DA1F2;
        }

        .wave-entry--tweet:hover::before {
            background: #0d8bd9;
        }

        .wave-entry--tweet .wave-type {
            background: #1DA1F2;
        }

        .wave-entry--tweet .wave-title {
            font-size: clamp(1.4rem, 4vw, 2rem);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .wave-entry--tweet .wave-body {
            display: none; /* Tweet is the title itself */
        }

        .wave-entry--tweet .wave-meta {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        /* ----- SKEET STYLE (141-280 chars, modern short post) ----- */
        .wave-entry--skeet {
            padding: 1.5rem 2rem;
        }

        .wave-entry--skeet::before {
            background: #0085FF;
        }

        .wave-entry--skeet:hover::before {
            background: #0066cc;
        }

        .wave-entry--skeet .wave-type {
            background: #0085FF;
        }

        .wave-entry--skeet .wave-title {
            font-size: 1.3rem;
            margin-bottom: 0.75rem;
        }

        .wave-entry--skeet .wave-body {
            font-size: 1.1rem;
        }

        .wave-entry--skeet .wave-meta {
            margin-top: 1rem;
        }

        /* ----- PHOTO/INSTAGRAM STYLE (has image, visual-first) ----- */
        .wave-entry--photo {
            padding: 0;
            overflow: hidden;
        }

        .wave-entry--photo::before {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
        }

        .wave-entry--photo:hover::before {
            background: linear-gradient(45deg, #bc1888 0%, #cc2366 25%, #dc2743 50%, #e6683c 75%, #f09433 100%);
        }

        .wave-entry--photo .wave-type {
            background: linear-gradient(45deg, #e6683c, #dc2743);
        }

        .wave-entry--photo .wave-image {
            width: 100%;
            max-height: 400px;
            object-fit: cover;
            display: block;
            border-bottom: 4px solid var(--color-black);
        }

        .wave-entry--photo .wave-content {
            padding: 1.5rem;
        }

        .wave-entry--photo .wave-title {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .wave-entry--photo .wave-body {
            font-size: 1rem;
            color: rgba(0,0,0,0.7);
        }

        .wave-entry--photo .wave-meta {
            margin-top: 0.75rem;
            font-size: 0.75rem;
        }

        /* ----- LONGFORM/BLOG STYLE (>=500 chars, structured) ----- */
        .wave-entry--longform {
            padding: 2rem;
            display: flex;
            gap: 1.5rem;
            align-items: flex-start;
        }

        .wave-entry--longform::before {
            background: var(--color-coral);
        }

        .wave-entry--longform .wave-type {
            background: var(--color-navy);
        }

        .wave-entry--longform .wave-thumb {
            width: 120px;
            height: 120px;
            min-width: 120px;
            border: 3px solid var(--color-black);
            object-fit: cover;
            background: var(--color-cream);
        }

        .wave-entry--longform .wave-content {
            flex: 1;
            min-width: 0;
        }

        .wave-entry--longform .wave-meta {
            margin-bottom: 0.75rem;
        }

        .wave-entry--longform .wave-title {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .wave-entry--longform .wave-body {
            font-size: 1.1rem;
        }

        /* ----- THOUGHT/WHISPER STYLE (informal, ephemeral feel) ----- */
        .wave-entry--thought {
            padding: 1.5rem 2rem;
            background: #FFFEF5;
            border-style: dashed;
        }

        .wave-entry--thought::before {
            background: var(--color-yellow);
            opacity: 0.6;
        }

        .wave-entry--thought:hover::before {
            background: var(--color-lime);
            opacity: 0.8;
        }

        .wave-entry--thought .wave-type {
            background: #B8860B;
        }

        .wave-entry--thought .wave-title {
            font-family: var(--font-body);
            font-size: 1.3rem;
            font-style: italic;
            font-weight: 500;
        }

        .wave-entry--thought .wave-body {
            display: none;
        }

        .wave-entry--thought .wave-meta {
            margin-top: 1rem;
            opacity: 0.6;
        }

        /* ----- JOURNAL STYLE (stream of consciousness) ----- */
        .wave-entry--journal {
            padding: 2rem 2.5rem;
            background: linear-gradient(to bottom, #FFFEF8 0%, #FFF9E6 100%);
            border-color: #D4C5A0;
            border-width: 2px;
        }

        .wave-entry--journal::before {
            background: #D4C5A0;
            opacity: 0.4;
        }

        .wave-entry--journal:hover::before {
            background: #C4B590;
            opacity: 0.6;
        }

        .wave-entry--journal .wave-type {
            background: #8B7355;
        }

        .wave-entry--journal .wave-content {
            border-left: 3px solid rgba(139, 115, 85, 0.3);
            padding-left: 1.5rem;
        }

        .wave-entry--journal .wave-title {
            font-family: var(--font-body);
            font-size: 1.1rem;
            font-weight: 400;
            margin-bottom: 0.5rem;
            color: #5D4E37;
        }

        .wave-entry--journal .wave-body {
            font-size: 1.05rem;
            font-style: italic;
            color: #6B5B45;
        }

        .wave-entry--journal .wave-meta {
            margin-top: 1.5rem;
            color: #9B8B75;
        }

        /* ----- TODO/LIST STYLE (actionable items) ----- */
        .wave-entry--todo {
            padding: 1.5rem 2rem;
            background: #F8FFF8;
            border-left: 6px solid var(--color-lime);
        }

        .wave-entry--todo::before {
            background: var(--color-lime);
            opacity: 0.5;
        }

        .wave-entry--todo:hover::before {
            background: #90EE90;
            opacity: 0.7;
        }

        .wave-entry--todo .wave-type {
            background: #228B22;
        }

        .wave-entry--todo .wave-title {
            font-family: var(--font-mono);
            font-size: 1rem;
            font-weight: 500;
        }

        .wave-entry--todo .wave-body {
            font-family: var(--font-mono);
            font-size: 0.95rem;
        }

        .wave-entry--todo .wave-meta {
            margin-top: 1rem;
        }

        /* ----- LINK/SHARE STYLE (external link prominent) ----- */
        .wave-entry--link {
            padding: 1.5rem 2rem;
            background: #F5F8FF;
        }

        .wave-entry--link::before {
            background: var(--color-electric);
        }

        .wave-entry--link:hover::before {
            background: #0044cc;
        }

        .wave-entry--link .wave-type {
            background: var(--color-electric);
        }

        .wave-entry--link .wave-title {
            font-size: 1.2rem;
            color: var(--color-electric);
            margin-bottom: 0.5rem;
        }

        .wave-entry--link .wave-body {
            font-size: 1rem;
        }

        .wave-entry--link .wave-meta {
            margin-top: 0.75rem;
        }

        /* ----- VIDEO STYLE (video content) ----- */
        .wave-entry--video {
            padding: 0;
            overflow: hidden;
        }

        .wave-entry--video::before {
            background: #000;
        }

        .wave-entry--video:hover::before {
            background: #FF0050;
        }

        .wave-entry--video .wave-type {
            background: #FF0050;
        }

        .wave-entry--video .wave-preview {
            position: relative;
            background: #000;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wave-entry--video .wave-preview::after {
            content: '';
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wave-entry--video .wave-preview::before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-left: 20px solid #000;
            border-top: 12px solid transparent;
            border-bottom: 12px solid transparent;
            z-index: 1;
        }

        .wave-entry--video .wave-content {
            padding: 1rem 1.5rem;
            background: #000;
            color: white;
        }

        .wave-entry--video .wave-title {
            font-size: 1rem;
            color: white;
        }

        .wave-entry--video .wave-meta {
            color: rgba(255,255,255,0.6);
            margin-top: 0.5rem;
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            nav {
                flex-direction: column;
                gap: 1rem;
            }

            nav .nav-links {
                gap: 1rem;
            }

            main {
                padding: 6rem 1.5rem 3rem;
            }

            .wave-entry--longform {
                padding: 1.5rem;
                flex-direction: column;
            }

            .wave-entry--longform .wave-thumb {
                width: 80px;
                height: 80px;
                min-width: 80px;
            }

            .wave-arrow {
                display: none;
            }

            .wave-entry--photo .wave-image {
                max-height: 300px;
            }
        }

        /* ===== ACCESSIBILITY ===== */
        :focus-visible {
            outline: 4px solid var(--color-electric);
            outline-offset: 4px;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <!-- Animated wave background -->
        <div class="nav-waves">
            <div class="wave wave-1"></div>
            <div class="wave wave-2"></div>
            <div class="wave wave-3"></div>
            <div class="wave wave-4"></div>
            <div class="wave wave-5"></div>
        </div>
        <a href="/" class="logo"><img src="/favicon.png" alt="VDR"></a>
        <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/#profile">About</a></li>
            <li><a href="/#output">Work</a></li>
            <li><a href="/waves.html" class="active nav-waves-link">Waves</a></li>
            <li><a href="/#contact">Contact</a></li>
        </ul>
    </nav>

    <main>
        <!-- Header -->
        <header class="page-header">
            <span class="section-label">// Blog</span>
            <h1 class="page-title">Waves</h1>
            <p class="page-description">
                Thoughts on AI, technology, innovation, and the future of work.
                Raw ideas from the lab, polished insights from teaching.
            </p>
        </header>

        <!-- Loading State -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>Loading posts...</p>
        </div>

        <!-- Waves Container -->
        <div id="waves-container" class="waves-list" style="display: none;"></div>

        <!-- Empty State -->
        <div id="empty-state" class="empty-state" style="display: none;">
            <h2>No waves yet</h2>
            <p>Check back soon for new posts.</p>
        </div>
    </main>

    <!-- Load Posts API -->
    <script src="/posts.js"></script>

    <script>
        /**
         * WAVE ADAPTATION ENGINE
         * Analyzes content and determines the appropriate wave type
         * The wave remains a wave - only the internal presentation adapts
         */

        // Configuration thresholds (tune these to adjust wave classification)
        const WAVE_THRESHOLDS = {
            TWEET_MAX_CHARS: 140,      // Classic Twitter limit
            SKEET_MAX_CHARS: 300,      // Modern short post (Bluesky-ish)
            THOUGHT_MAX_CHARS: 200,    // Quick informal thought
            LONGFORM_MIN_CHARS: 500,   // Blog-style long content
            JOURNAL_MIN_CHARS: 300,    // Journal entries (mid-length, informal)
        };

        // Content analysis utilities
        const WaveAnalyzer = {
            // Get plain text from HTML
            getPlainText(html) {
                const temp = document.createElement('div');
                temp.innerHTML = html;
                return temp.textContent || temp.innerText || '';
            },

            // Strip the first line (title) from content
            stripFirstLine(html) {
                const temp = document.createElement('div');
                temp.innerHTML = html;
                if (temp.firstElementChild) {
                    temp.removeChild(temp.firstElementChild);
                }
                return temp.innerHTML.trim();
            },

            // Extract the first image URL from HTML content
            getFirstImage(html) {
                const temp = document.createElement('div');
                temp.innerHTML = html;
                const img = temp.querySelector('img');
                return img ? img.src : null;
            },

            // Check if content has video
            hasVideo(html) {
                const temp = document.createElement('div');
                temp.innerHTML = html;
                return temp.querySelector('video, iframe[src*="youtube"], iframe[src*="vimeo"], iframe[src*="tiktok"]') !== null;
            },

            // Check if content has external links prominently
            hasProminentLink(html) {
                const temp = document.createElement('div');
                temp.innerHTML = html;
                const links = temp.querySelectorAll('a[href^="http"]');
                // If >50% of content is a link, it's link-focused
                const text = this.getPlainText(html);
                return links.length > 0 && text.length < 300;
            },

            // Check for todo/list patterns
            hasTodoPattern(html, title) {
                const text = this.getPlainText(html).toLowerCase();
                const titleLower = title.toLowerCase();
                const todoPatterns = [
                    /\[\s*[x ]?\s*\]/i,           // Checkbox patterns
                    /^[-*]\s+/m,                   // Bullet lists
                    /^\d+\.\s+/m,                  // Numbered lists
                    /todo|task|checklist|to-do/i   // Keywords
                ];
                return todoPatterns.some(p => p.test(text) || p.test(titleLower));
            },

            // Check for informal/thought patterns
            isInformalThought(text, title) {
                const combined = (title + ' ' + text).toLowerCase();
                const informalPatterns = [
                    /^(just|hmm|thinking|wondering|maybe|quick thought|note to self)/i,
                    /\.\.\./,                      // Ellipsis indicates trailing thought
                    /^[a-z]/,                      // Starts lowercase (informal)
                ];
                return text.length < WAVE_THRESHOLDS.THOUGHT_MAX_CHARS &&
                       informalPatterns.some(p => p.test(combined));
            },

            // Check for journal-style content
            isJournalStyle(text, title) {
                const combined = (title + ' ' + text).toLowerCase();
                const journalPatterns = [
                    /today|yesterday|this morning|tonight|journal|diary|reflection/i,
                    /i (felt|thought|realized|noticed|wondered)/i,
                    /stream of|consciousness|rambling/i
                ];
                return text.length >= WAVE_THRESHOLDS.JOURNAL_MIN_CHARS &&
                       text.length < WAVE_THRESHOLDS.LONGFORM_MIN_CHARS &&
                       journalPatterns.some(p => p.test(combined));
            },

            /**
             * MAIN CLASSIFICATION FUNCTION
             * Determines wave type based on content characteristics
             * Priority order matters - more specific types checked first
             */
            classifyWave(post) {
                const content = this.stripFirstLine(post.content);
                const plainText = this.getPlainText(content);
                const charCount = plainText.length;
                const hasImage = this.getFirstImage(post.content) !== null;
                const hasVideoContent = this.hasVideo(post.content);

                // Video takes priority - visual content dominates
                if (hasVideoContent) {
                    return { type: 'video', label: 'Video' };
                }

                // Photo/Instagram style - image with short caption
                if (hasImage && charCount < WAVE_THRESHOLDS.LONGFORM_MIN_CHARS) {
                    return { type: 'photo', label: 'Photo' };
                }

                // Todo/List style - actionable content
                if (this.hasTodoPattern(content, post.title)) {
                    return { type: 'todo', label: 'List' };
                }

                // Link share - external link focused
                if (this.hasProminentLink(content)) {
                    return { type: 'link', label: 'Link' };
                }

                // Tweet style - very short, punchy (classic 140)
                if (charCount <= WAVE_THRESHOLDS.TWEET_MAX_CHARS && !hasImage) {
                    return { type: 'tweet', label: '140' };
                }

                // Thought/Whisper - informal short content
                if (this.isInformalThought(plainText, post.title)) {
                    return { type: 'thought', label: 'Thought' };
                }

                // Skeet style - modern short post (141-300)
                if (charCount <= WAVE_THRESHOLDS.SKEET_MAX_CHARS && !hasImage) {
                    return { type: 'skeet', label: 'Short' };
                }

                // Journal style - personal, reflective, mid-length
                if (this.isJournalStyle(plainText, post.title)) {
                    return { type: 'journal', label: 'Journal' };
                }

                // Longform/Blog - everything else (default, the original style)
                return { type: 'longform', label: 'Article' };
            }
        };

        /**
         * WAVE RENDERER
         * Generates HTML for each wave type
         * All are waves - just with different internal layouts
         */
        const WaveRenderer = {
            // Arrow SVG used across wave types
            arrowSvg: `<svg class="wave-arrow" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>`,

            render(post, classification) {
                const renderer = this[classification.type] || this.longform;
                return renderer.call(this, post, classification);
            },

            // Tweet style (<=140 chars)
            tweet(post, { label }) {
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--tweet">
                        <span class="wave-type">${label}</span>
                        <h2 class="wave-title">${post.title}</h2>
                        <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Skeet style (141-300 chars)
            skeet(post, { label }) {
                const content = WaveAnalyzer.stripFirstLine(post.content);
                const excerpt = window.PostsAPI.createExcerpt(content, 280);
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--skeet">
                        <span class="wave-type">${label}</span>
                        <h2 class="wave-title">${post.title}</h2>
                        <p class="wave-body">${excerpt}</p>
                        <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Photo/Instagram style
            photo(post, { label }) {
                const imageUrl = WaveAnalyzer.getFirstImage(post.content);
                const content = WaveAnalyzer.stripFirstLine(post.content);
                const excerpt = window.PostsAPI.createExcerpt(content, 150);
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--photo">
                        <span class="wave-type">${label}</span>
                        <img src="${imageUrl}" alt="" class="wave-image">
                        <div class="wave-content">
                            <h2 class="wave-title">${post.title}</h2>
                            <p class="wave-body">${excerpt}</p>
                            <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        </div>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Longform/Blog style (default)
            longform(post, { label }) {
                const imageUrl = WaveAnalyzer.getFirstImage(post.content);
                const content = WaveAnalyzer.stripFirstLine(post.content);
                const excerpt = window.PostsAPI.createExcerpt(content, 200);
                const thumbHtml = imageUrl
                    ? `<img src="${imageUrl}" alt="" class="wave-thumb">`
                    : '';
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--longform">
                        <span class="wave-type">${label}</span>
                        ${thumbHtml}
                        <div class="wave-content">
                            <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                            <h2 class="wave-title">${post.title}</h2>
                            <p class="wave-body">${excerpt}</p>
                        </div>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Thought/Whisper style
            thought(post, { label }) {
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--thought">
                        <span class="wave-type">${label}</span>
                        <h2 class="wave-title">${post.title}</h2>
                        <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Journal style
            journal(post, { label }) {
                const content = WaveAnalyzer.stripFirstLine(post.content);
                const excerpt = window.PostsAPI.createExcerpt(content, 250);
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--journal">
                        <span class="wave-type">${label}</span>
                        <div class="wave-content">
                            <h2 class="wave-title">${post.title}</h2>
                            <p class="wave-body">${excerpt}</p>
                            <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        </div>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Todo/List style
            todo(post, { label }) {
                const content = WaveAnalyzer.stripFirstLine(post.content);
                const excerpt = window.PostsAPI.createExcerpt(content, 150);
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--todo">
                        <span class="wave-type">${label}</span>
                        <h2 class="wave-title">${post.title}</h2>
                        <p class="wave-body">${excerpt}</p>
                        <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Link/Share style
            link(post, { label }) {
                const content = WaveAnalyzer.stripFirstLine(post.content);
                const excerpt = window.PostsAPI.createExcerpt(content, 150);
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--link">
                        <span class="wave-type">${label}</span>
                        <h2 class="wave-title">${post.title}</h2>
                        <p class="wave-body">${excerpt}</p>
                        <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        ${this.arrowSvg}
                    </a>
                `;
            },

            // Video style
            video(post, { label }) {
                return `
                    <a href="/${post.slug}" class="wave-entry wave-entry--video">
                        <span class="wave-type">${label}</span>
                        <div class="wave-preview"></div>
                        <div class="wave-content">
                            <h2 class="wave-title">${post.title}</h2>
                            <p class="wave-meta">${window.PostsAPI.formatDate(post.published_at)}</p>
                        </div>
                    </a>
                `;
            }
        };

        // Fetch and render waves
        (async function() {
            try {
                const posts = await window.PostsAPI.fetchPosts();
                const container = document.getElementById('waves-container');
                const loading = document.getElementById('loading');
                const emptyState = document.getElementById('empty-state');

                loading.style.display = 'none';

                if (posts.length === 0) {
                    emptyState.style.display = 'block';
                    return;
                }

                // Classify and render each wave
                container.innerHTML = posts.map(post => {
                    const classification = WaveAnalyzer.classifyWave(post);
                    return WaveRenderer.render(post, classification);
                }).join('');

                container.style.display = 'flex';
            } catch (error) {
                console.error('Error loading waves:', error);
                document.getElementById('loading').style.display = 'none';
                document.getElementById('empty-state').style.display = 'block';
            }
        })();
    </script>
</body>
</html>
